"use strict";(self["webpackChunkiq_test"]=self["webpackChunkiq_test"]||[]).push([[332],{2282:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var n=s(3396),l=s(7139),i=s.p+"img/lightning_3.cfe20d45.png",r=s.p+"img/lightning_4.8697fdfb.png";const a=e=>((0,n.dD)("data-v-f5864f74"),e=e(),(0,n.Cn)(),e),o=a((()=>(0,n._)("p",{class:"local-header"},"your result is calculated",-1))),u=a((()=>(0,n._)("p",{class:"get-result"},"Hurry up to get it!",-1))),c={class:"deadline"},p={id:"big"},h=a((()=>(0,n._)("img",{src:i,id:"lightning-3",alt:"Lightning"},null,-1))),g=a((()=>(0,n._)("img",{src:r,id:"lightning-4",alt:"Lightning"},null,-1))),d=a((()=>(0,n._)("br",null,null,-1)));function f(e,t,s,i,r,a){const f=(0,n.up)("StarsWrapper");return(0,n.wg)(),(0,n.j4)(f,{class:"results-wrapper"},{default:(0,n.w5)((()=>[o,u,(0,n._)("p",c,[(0,n.Uk)(" The button will be active only for "),(0,n._)("span",p,(0,l.zw)(r.timer),1),(0,n.Uk)(" minutes ")]),h,g,(0,n._)("button",{class:"call-btn",onClick:t[0]||(t[0]=(...e)=>a.getResult&&a.getResult(...e))},"Get your result !"),r.response.length?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(r.response,(e=>((0,n.wg)(),(0,n.iD)("p",{key:e,class:"response"},[(0,n.Uk)((0,l.zw)(e.key)+": "+(0,l.zw)(e.value),1),d])))),128)):(0,n.kq)("",!0)])),_:1})}s(7658);var m=s(2409),w={name:"ResultView",components:{StarsWrapper:m.Z},data(){return{timer:"10:00",timeLeft:600,response:[]}},mounted(){this.countdown()},watch:{timeLeft(e){e<0&&(document.querySelector(".call-btn").disabled=!0)}},beforeRouteLeave(e,t,s){clearInterval(this.myTimer),s()},methods:{countdown(){let e=setInterval((()=>{let t=Math.floor(this.timeLeft/60),s=this.timeLeft%60;s<10&&(s="0"+s),this.timer=t+":"+s,this.timeLeft--,(this.timeLeft<0||this.response.length)&&clearInterval(e)}),1e3)},getResult(){fetch("https://swapi.dev/api/people/1/").then((e=>e.json())).then((e=>{Object.entries(e).forEach((([e,t])=>{if(t.length){let s={};if("object"==typeof t){let n=t.join(", ");s={key:e,value:n},this.response.push(s)}else s={key:e,value:t},this.response.push(s)}}));const t=document.querySelector(".results-wrapper");t.style.height="auto"})),document.querySelector(".call-btn").disabled=!0}}},b=s(89);const y=(0,b.Z)(w,[["render",f],["__scopeId","data-v-f5864f74"]]);var _=y}}]);
//# sourceMappingURL=332.f546e0d3.js.map